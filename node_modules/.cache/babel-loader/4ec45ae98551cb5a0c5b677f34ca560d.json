{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { getAuth, signInWithPopup, GoogleAuthProvider, signOut, onAuthStateChanged, createUserWithEmailAndPassword, signInWithEmailAndPassword } from \"firebase/auth\";\nimport initialization from \"../firebase/firebase.init\";\ninitialization();\n\nconst useFirebase = () => {\n  _s();\n\n  const [user, setUser] = useState({});\n  const [error, setError] = useState('');\n  console.log(user);\n  const googleProvider = new GoogleAuthProvider();\n  const auth = getAuth(); // HANDLE SIGN IN WITH GOOGLE\n\n  const signInWithGoogle = () => {\n    signInWithPopup(auth, googleProvider).then(result => {\n      setUser(result.user);\n    }).catch(error => {\n      setError(error.message);\n    });\n  }; // HANDLE USER REGISTER WITH EMAIL & PASSWORD ACCOUNT\n\n\n  const userRegister = () => {\n    createUserWithEmailAndPassword(auth, name, username, email, password).then(result => {\n      setUser(result.user);\n    }).catch(error => {\n      setError(error.message);\n    });\n  }; // HANDLE USER LOGIN WITH EMAIL& PASSWORD\n\n\n  const userLogin = (email, password) => {\n    signInWithEmailAndPassword(auth, email, password).then(result => {\n      setUser(result.user);\n    }).catch(error => {\n      setError(error.message);\n    });\n  }; // SAVE USER BEHAVIOUR\n\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, user => {\n      if (user) {\n        setUser(user);\n      } else {\n        setUser({});\n      }\n    });\n    return () => unsubscribe;\n  }, []); // HANDLE SIGN OUT\n\n  const logOut = () => {\n    signOut(auth).then(() => {// Sign-out successful.\n    }).catch(error => {\n      // An error happened.\n      setError(error.message);\n    });\n  };\n\n  return {\n    user,\n    error,\n    signInWithGoogle,\n    userRegister,\n    userLogin,\n    logOut\n  };\n};\n\n_s(useFirebase, \"iIn/869R6T2MNTr+7gKkePKLFYg=\");\n\nexport default useFirebase;","map":{"version":3,"sources":["D:/practice-projects/social-media-network/src/hooks/useFirebase.js"],"names":["useEffect","useState","getAuth","signInWithPopup","GoogleAuthProvider","signOut","onAuthStateChanged","createUserWithEmailAndPassword","signInWithEmailAndPassword","initialization","useFirebase","user","setUser","error","setError","console","log","googleProvider","auth","signInWithGoogle","then","result","catch","message","userRegister","name","username","email","password","userLogin","unsubscribe","logOut"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,OAAT,EAAkBC,eAAlB,EAAmCC,kBAAnC,EAAuDC,OAAvD,EAAgEC,kBAAhE,EAAoFC,8BAApF,EAAoHC,0BAApH,QAAsJ,eAAtJ;AACA,OAAOC,cAAP,MAA2B,2BAA3B;AAEAA,cAAc;;AACd,MAAMC,WAAW,GAAG,MAAM;AAAA;;AACtB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACY,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,EAAD,CAAlC;AACAc,EAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACA,QAAMM,cAAc,GAAG,IAAIb,kBAAJ,EAAvB;AACA,QAAMc,IAAI,GAAGhB,OAAO,EAApB,CALsB,CAOtB;;AACA,QAAMiB,gBAAgB,GAAG,MAAM;AAC3BhB,IAAAA,eAAe,CAACe,IAAD,EAAOD,cAAP,CAAf,CACKG,IADL,CACWC,MAAD,IAAY;AACdT,MAAAA,OAAO,CAACS,MAAM,CAACV,IAAR,CAAP;AACH,KAHL,EAGOW,KAHP,CAGcT,KAAD,IAAW;AAChBC,MAAAA,QAAQ,CAACD,KAAK,CAACU,OAAP,CAAR;AACH,KALL;AAMH,GAPD,CARsB,CAkBtB;;;AACA,QAAMC,YAAY,GAAG,MAAM;AACvBjB,IAAAA,8BAA8B,CAACW,IAAD,EAAOO,IAAP,EAAaC,QAAb,EAAuBC,KAAvB,EAA8BC,QAA9B,CAA9B,CACKR,IADL,CACWC,MAAD,IAAY;AACdT,MAAAA,OAAO,CAACS,MAAM,CAACV,IAAR,CAAP;AACH,KAHL,EAIKW,KAJL,CAIYT,KAAD,IAAW;AACdC,MAAAA,QAAQ,CAACD,KAAK,CAACU,OAAP,CAAR;AACH,KANL;AAOH,GARD,CAnBsB,CA6BtB;;;AACA,QAAMM,SAAS,GAAG,CAACF,KAAD,EAAQC,QAAR,KAAqB;AACnCpB,IAAAA,0BAA0B,CAACU,IAAD,EAAOS,KAAP,EAAcC,QAAd,CAA1B,CACKR,IADL,CACWC,MAAD,IAAY;AACdT,MAAAA,OAAO,CAACS,MAAM,CAACV,IAAR,CAAP;AACH,KAHL,EAIKW,KAJL,CAIYT,KAAD,IAAW;AACdC,MAAAA,QAAQ,CAACD,KAAK,CAACU,OAAP,CAAR;AACH,KANL;AAOH,GARD,CA9BsB,CAyCtB;;;AACAvB,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAM8B,WAAW,GAAGxB,kBAAkB,CAACY,IAAD,EAAQP,IAAD,IAAU;AACnD,UAAIA,IAAJ,EAAU;AACNC,QAAAA,OAAO,CAACD,IAAD,CAAP;AACH,OAFD,MAEO;AACHC,QAAAA,OAAO,CAAC,EAAD,CAAP;AACH;AACJ,KANqC,CAAtC;AAOA,WAAO,MAAMkB,WAAb;AACH,GATQ,EASN,EATM,CAAT,CA1CsB,CAsDtB;;AACA,QAAMC,MAAM,GAAG,MAAM;AACjB1B,IAAAA,OAAO,CAACa,IAAD,CAAP,CAAcE,IAAd,CAAmB,MAAM,CACrB;AACH,KAFD,EAEGE,KAFH,CAEUT,KAAD,IAAW;AAChB;AACAC,MAAAA,QAAQ,CAACD,KAAK,CAACU,OAAP,CAAR;AACH,KALD;AAMH,GAPD;;AAUA,SAAO;AACHZ,IAAAA,IADG;AAEHE,IAAAA,KAFG;AAGHM,IAAAA,gBAHG;AAIHK,IAAAA,YAJG;AAKHK,IAAAA,SALG;AAMHE,IAAAA;AANG,GAAP;AAQH,CAzED;;GAAMrB,W;;AA2EN,eAAeA,WAAf","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { getAuth, signInWithPopup, GoogleAuthProvider, signOut, onAuthStateChanged, createUserWithEmailAndPassword, signInWithEmailAndPassword } from \"firebase/auth\";\r\nimport initialization from \"../firebase/firebase.init\";\r\n\r\ninitialization();\r\nconst useFirebase = () => {\r\n    const [user, setUser] = useState({});\r\n    const [error, setError] = useState('');\r\n    console.log(user);\r\n    const googleProvider = new GoogleAuthProvider();\r\n    const auth = getAuth();\r\n\r\n    // HANDLE SIGN IN WITH GOOGLE\r\n    const signInWithGoogle = () => {\r\n        signInWithPopup(auth, googleProvider)\r\n            .then((result) => {\r\n                setUser(result.user);\r\n            }).catch((error) => {\r\n                setError(error.message);\r\n            });\r\n    };\r\n\r\n\r\n    // HANDLE USER REGISTER WITH EMAIL & PASSWORD ACCOUNT\r\n    const userRegister = () => {\r\n        createUserWithEmailAndPassword(auth, name, username, email, password)\r\n            .then((result) => {\r\n                setUser(result.user);\r\n            })\r\n            .catch((error) => {\r\n                setError(error.message);\r\n            });\r\n    }\r\n\r\n    // HANDLE USER LOGIN WITH EMAIL& PASSWORD\r\n    const userLogin = (email, password) => {\r\n        signInWithEmailAndPassword(auth, email, password)\r\n            .then((result) => {\r\n                setUser(result.user);\r\n            })\r\n            .catch((error) => {\r\n                setError(error.message);\r\n            });\r\n    }\r\n\r\n\r\n    // SAVE USER BEHAVIOUR\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, (user) => {\r\n            if (user) {\r\n                setUser(user)\r\n            } else {\r\n                setUser({})\r\n            }\r\n        });\r\n        return () => unsubscribe;\r\n    }, []);\r\n\r\n\r\n    // HANDLE SIGN OUT\r\n    const logOut = () => {\r\n        signOut(auth).then(() => {\r\n            // Sign-out successful.\r\n        }).catch((error) => {\r\n            // An error happened.\r\n            setError(error.message);\r\n        });\r\n    }\r\n\r\n\r\n    return {\r\n        user,\r\n        error,\r\n        signInWithGoogle,\r\n        userRegister,\r\n        userLogin,\r\n        logOut\r\n    }\r\n};\r\n\r\nexport default useFirebase;"]},"metadata":{},"sourceType":"module"}